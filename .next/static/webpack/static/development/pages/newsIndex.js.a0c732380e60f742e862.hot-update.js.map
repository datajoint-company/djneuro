{"version":3,"file":"static/webpack/static/development/pages/newsIndex.js.a0c732380e60f742e862.hot-update.js","sources":["webpack:///./pages/newsIndex.js"],"sourcesContent":["import React from 'react'\nimport matter from 'gray-matter';\nimport _ from 'lodash';\nimport Link from 'next/link';\nimport Layout from '../components/Layout.js';\n\nexport default class extends React.Component {\n    static async getInitialProps() {\n        // Get contents from posts folder\n        const posts = (items => {\n            // console.log(items);\n            const keys = items.keys();\n            const values = keys.map(items);\n            const data = keys.map((key, index) => {\n                // Create slug from filename\n                const slug = key.replace(/^.*[\\\\\\/]/, '').split('.').slice(0, -1).join('.');\n                const value = values[index];\n                // Parse document\n                const document = matter(value.default);\n                // document = { content: '', data: { title:'', date: 2018-12-04T00:00:00.000Z}, isEmpty: false, excerpt: '', orig: <Buffer 2d 2d...>}\n                \n                return {\n                    document,\n                    slug\n                };\n            });\n            // console.log(data[0]);\n            const sortedData = _.orderBy(data, ['document.data.date'], ['asc']);\n            console.log(sortedData);\n            return sortedData;\n        })(require.context('../posts', true, /\\.md$/));\n        // console.log(posts[0].document.data);\n        return {\n            posts\n        };\n    }\n    render() {\n        return (\n            <Layout>\n                <h1>News</h1>\n                {this.props.posts.map(({ document: { data }, slug }) => (\n                    <div>\n                        <h5>{data.date.toString().split('T')[0]}</h5>\n                        <Link href={{ pathname: '/post', query: { id: slug } }} key={slug}>\n                            <p>{data.title}</p>\n                        </Link>\n                    </div>\n                ))}\n            </Layout>\n        )\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AA+BA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAUA;;;;;;;;;;;;AA1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;;;;;;;;;;;;;;;;;;AA3BA;AACA;;;;;A","sourceRoot":""}